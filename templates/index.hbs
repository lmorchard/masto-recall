{{#> pageLayout}}

<main class="form-search w-100 m-auto">

  <form class="w-100 m-auto" method="GET" action="./">
    <div class="container">
      <div class="row">
        <h1 class="text-center">{{ meta.botName }}</h1>
        <div class="col">
          <input id="searchField" name="q" type="text" class="form-control" 
            autofocus placeholder="search" value="{{ search.query }}">
        </div>
        <div class="col-auto">
          <button class="btn btn-outline-primary" type="submit" title="Search">ðŸ”Ž</button>
        </div>
      </div>
    </div>
  </form>

  {{#if error }}
    <section class="container mt-3 m-auto justify-content-center alert alert-danger" role="alert">
      <h2>Error</h2>
      <p>
        {{ error }}
      </p>
    </section>
  {{/if}}

  {{#if search.results}}
    <section class="container mt-3 m-auto justify-content-center">
      <h2 class="text-center">
        {{#if search.query }}
          Search for "{{ search.query }}"
        {{else}}
          Recent
        {{/if}}
        ({{ search.count }} results)
      </h2>
      {{#if search.results}}
        {{> searchPagination}}
        <div class="col">
          <ul class="text-left search-results justify-content-center">
            {{#each search.results}}
              {{> statusResult }}
            {{/each}}
          </ul>
        </div>
        {{> searchPagination}}
      {{/if}}
    </section>
  {{/if}}

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-media-attachment">
      <div class="modal-content mh-vh-100">
        <div class="modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center">
          <figure class="figure">
            <figcaption id="media-attachment-description" class="figure-caption mb-4"></figcaption>
            <img src="" id="media-attachment-display" class="object-fit-xl-contain figure-img img-fluid rounded" alt="...">
          </figure>
        </div>
      </div>
    </div>
  </div>

  {{> pageMeta}}
</main>
{{/pageLayout}}
